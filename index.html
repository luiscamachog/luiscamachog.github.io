<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Para mi Amor ‚ù§Ô∏è</title>
    <style>
        /* Reset para iOS */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Arial', sans-serif;
            background: linear-gradient(135deg, #6a0dad, #a4508b, #d387ab);
            background-attachment: fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            color: #fff;
            margin: 0;
            padding: 0;
            text-align: center;
            min-height: 100vh;
            padding-bottom: constant(safe-area-inset-bottom);
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        header {
            background: rgba(106, 13, 173, 0.7);
            color: white;
            padding: 20px;
            padding-top: max(20px, env(safe-area-inset-top));
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
        }
        
        h1 {
            margin: 0;
            font-size: clamp(1.8em, 6vw, 2.5em);
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .time-counter {
            font-size: clamp(1em, 4vw, 1.2em);
            margin: 10px 0;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            display: inline-block;
            -webkit-animation: pulse 2s infinite;
            animation: pulse 2s infinite;
        }
        
        @-webkit-keyframes pulse {
            0% { -webkit-transform: scale(1); }
            50% { -webkit-transform: scale(1.05); }
            100% { -webkit-transform: scale(1); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            -webkit-backdrop-filter: blur(8px);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .gallery img {
            width: 100%;
            max-width: 200px;
            height: auto;
            aspect-ratio: 1/1;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            border: 2px solid rgba(255, 255, 255, 0.3);
            -webkit-touch-callout: none;
        }
        
        .gallery img:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
            border-color: rgba(255, 255, 255, 0.6);
        }
        
        .message {
            font-size: clamp(1em, 4vw, 1.2em);
            line-height: 1.6;
            margin: 30px 0;
            padding: 25px;
            background: rgba(164, 80, 139, 0.4);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        button {
            background: linear-gradient(to right, #8e44ad, #9b59b6);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            margin: 5px;
            -webkit-appearance: none;
        }
        
        button:hover {
            background: linear-gradient(to right, #9b59b6, #8e44ad);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        
        footer {
            margin-top: 30px;
            padding: 15px;
            color: rgba(255, 255, 255, 0.7);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            padding-bottom: max(15px, env(safe-area-inset-bottom));
        }

        .container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff00cc, #3333ff, #00ffcc, #ffcc00);
            background-size: 400%;
            z-index: -1;
            border-radius: 16px;
            opacity: 0.3;
            -webkit-animation: borderAnimation 10s linear infinite;
            animation: borderAnimation 10s linear infinite;
        }

        #musicButton {
            position: fixed;
            bottom: calc(30px + env(safe-area-inset-bottom));
            right: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8e44ad, #d387ab);
            color: white;
            border: none;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            opacity: 0.7;
            -webkit-tap-highlight-color: transparent;
        }

        #musicButton:hover {
            transform: scale(1.1);
            opacity: 1;
        }

        #musicNotification {
            position: fixed;
            bottom: calc(90px + env(safe-area-inset-bottom));
            right: 30px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 1000;
            -webkit-animation: fadeInOut 3s forwards;
            animation: fadeInOut 3s forwards;
            display: none;
        }

        @-webkit-keyframes borderAnimation {
            0% { background-position: 0 0; }
            50% { background-position: 400% 0; }
            100% { background-position: 0 0; }
        }

        @keyframes borderAnimation {
            0% { background-position: 0 0; }
            50% { background-position: 400% 0; }
            100% { background-position: 0 0; }
        }

        @-webkit-keyframes fadeInOut {
            0% { opacity: 0; -webkit-transform: translateY(10px); }
            20% { opacity: 1; -webkit-transform: translateY(0); }
            80% { opacity: 1; -webkit-transform: translateY(0); }
            100% { opacity: 0; -webkit-transform: translateY(-10px); }
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(10px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <header>
        <h1>Para mi Esposa ‚ù§Ô∏è</h1>
        <div class="time-counter" id="timeCounter">
            Cargando tiempo juntos...
        </div>
        <p>Nuestro amor en fotos y palabras</p>
    </header>
    
    <div class="container">
        <div class="message">
            <h2>Mi Mensaje Especial para Ti</h2>
            <p>
                Querida Esposa,
                En este dia tan especial quiero que sepas que me siento muy feliz de tenerte a mi lado,
                doy gracias a Dios por haberme puesto en tu camino, se que hemos tenido discusiones, pero nada de eso cambia 
                el inmenso amor que siento por ti, a lo largo de este tiempo he aprendido y me has ense√±ado demasiadas cosas,
                a tu lado me he dado cuenta que es contigo con quien quiero seguir construyendo el resto de mi vida.
                
                Te Amo con todo el amor del mundo, Te Amo con la misma cantidad de agua que existe en el planeta,
                y mi amor por ti crece tanto como crece la hermosa vegetacion del planeta tierra.

                ¬°Feliz 28 meses juntos! üíª‚ù§Ô∏è    
            </p>
        </div>
        
        <h2>Nuestros Momentos</h2>
        <div class="gallery">
            <!-- Reemplaza estas im√°genes con las tuyas -->
            <img src="images/foto1.jpg" alt="Nuestro primer viaje juntos ‚ù§Ô∏è">
            <img src="images/foto2.jpg" alt="Juntos para todo lado ‚ù§Ô∏è">
            <img src="images/foto3.jpg" alt="Contigo me siento bien ‚ù§Ô∏è">
            <img src="images/foto4.jpg" alt="Mi Estudiante hermosa ‚ù§Ô∏è">
        </div>
    </div>
    
    <footer>
        <p>Creado con amor para ti - ¬© <span id="currentYear"></span></p>
    </footer>

    <!-- Bot√≥n de m√∫sica circular -->
    <button id="musicButton">‚ùö‚ùö</button>
    
    <!-- Notificaci√≥n de m√∫sica -->
    <div id="musicNotification">M√∫sica activada ‚ô´</div>

    <!-- Reproductor de audio (oculto) -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="musica.mp3" type="audio/mpeg">
        Tu navegador no soporta audio HTML5.
    </audio>
    
    <script>
        // Soluci√≥n para iOS: Cargar m√∫sica despu√©s de interacci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            // Efecto de tipeo para el mensaje
            const message = document.querySelector('.message p');
            const originalText = message.innerHTML;
            message.innerHTML = '';
            
            let i = 0;
            function typeWriter() {
                if (i < originalText.length) {
                    message.innerHTML += originalText.charAt(i);
                    i++;
                    setTimeout(typeWriter, 30);
                }
            }
            
            typeWriter();

            // Contador de tiempo juntos
            function updateTimeTogether() {
                const startDate = new Date('2022-12-29T00:00:00');
                const now = new Date();
                const diff = now - startDate;
                
                const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
                const months = Math.floor((diff % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24 * 30.44));
                const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30.44)) / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                let timeText = '';
                if (years > 0) timeText += `${years} a√±o${years > 1 ? 's' : ''}, `;
                if (months > 0 || years > 0) timeText += `${months} mes${months !== 1 ? 'es' : ''}, `;
                timeText += `${days} d√≠a${days !== 1 ? 's' : ''}, `;
                timeText += `${hours} hora${hours !== 1 ? 's' : ''}, `;
                timeText += `${minutes} minuto${minutes !== 1 ? 's' : ''} y `;
                timeText += `${seconds} segundo${seconds !== 1 ? 's' : ''}`;
                
                document.getElementById('timeCounter').textContent = `Llevamos juntos: ${timeText}`;
            }

            updateTimeTogether();
            setInterval(updateTimeTogether, 1000);
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // Control de m√∫sica optimizado para iOS
            const musicButton = document.getElementById('musicButton');
            const musicNotification = document.getElementById('musicNotification');
            const backgroundMusic = document.getElementById('backgroundMusic');
            let isPlaying = false;
            let audioEnabled = false;

            // Configuraci√≥n inicial
            backgroundMusic.volume = 0.3;
            
            // Funci√≥n para habilitar audio (requerido en iOS)
            function enableAudio() {
                if (!audioEnabled) {
                    // Esto es necesario para iOS
                    backgroundMusic.play().then(() => {
                        backgroundMusic.pause();
                        audioEnabled = true;
                        startMusic();
                    }).catch(e => {
                        console.log("Error al habilitar audio:", e);
                    });
                }
            }

            // Funci√≥n para iniciar m√∫sica
            function startMusic() {
                if (audioEnabled) {
                    backgroundMusic.play()
                        .then(() => {
                            isPlaying = true;
                            musicButton.textContent = '‚ùö‚ùö';
                            musicNotification.style.display = 'block';
                            setTimeout(() => {
                                musicNotification.style.display = 'none';
                            }, 3000);
                        })
                        .catch(error => {
                            console.log("Error al reproducir:", error);
                            musicButton.textContent = '‚ô™';
                            isPlaying = false;
                        });
                }
            }

            // Evento t√°ctil para iOS
            document.body.addEventListener('touchstart', function() {
                if (!audioEnabled) {
                    enableAudio();
                }
            }, { once: true });

            // Evento de clic para otros dispositivos
            document.body.addEventListener('click', function() {
                if (!audioEnabled) {
                    enableAudio();
                }
            }, { once: true });

            // Control del bot√≥n de m√∫sica
            musicButton.addEventListener('click', function(e) {
                e.stopPropagation();
                if (!audioEnabled) {
                    enableAudio();
                    return;
                }
                
                if (isPlaying) {
                    backgroundMusic.pause();
                    musicButton.textContent = '‚ô™';
                    isPlaying = false;
                } else {
                    startMusic();
                }
            });

            // Efecto de confeti al hacer clic
            document.addEventListener('click', function() {
                const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
                for (let i = 0; i < 50; i++) {
                    const confetti = document.createElement('div');
                    confetti.style.position = 'fixed';
                    confetti.style.width = '10px';
                    confetti.style.height = '10px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = '50%';
                    confetti.style.left = Math.random() * window.innerWidth + 'px';
                    confetti.style.top = Math.random() * window.innerHeight + 'px';
                    confetti.style.zIndex = '9999';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 2000);
                }
            });
        });
    </script>
</body>
</html>